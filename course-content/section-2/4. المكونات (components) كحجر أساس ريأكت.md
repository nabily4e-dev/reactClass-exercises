### فهم مكونات React

مكونات React (React Components) هي اللبنات الأساسية لأي تطبيق React. دعونا نتعمق في ماهيتها، لماذا هي مهمة، وكيف تعمل.

#### ما هي مكونات React؟

1. **التعريف**:
   * المكونات هي وحدات مستقلة تعرض بعض النتائج. يمكن اعتبارها كدوال (functions) أو فئات (classes) في JavaScript تقبل مدخلات اختيارية (تسمى "props") وتعيد عنصر React الذي يصف كيف يجب أن يظهر جزء من واجهة المستخدم (UI).

2. **الدور في React**:
   * تتكون تطبيقات React بالكامل من مكونات. كل مكون له بياناته، منطقه، ومظهره الخاص، مما يجعله طريقة قوية لبناء واجهات مستخدم معقدة (UIs).

3. **لبنات البناء**:
   * المكونات تشبه اللبنات أو قطع الليجو. عن طريق دمج هذه القطع، يمكنك بناء واجهات مستخدم متطورة وتفاعلية.

#### لماذا المكونات مهمة؟

1. **القابلية للتجزئة** (Modularity):
   * كل مكون يغلف سلوكه ومظهره، مما يعزز إعادة الاستخدام (reusability) والصيانة (maintainability).

2. **التداخل والتكوين** (Nesting and Composition):
   * يمكن أن تتداخل مكونات داخل مكونات أخرى، مكونة شجرة مكونات (component tree). هذه البنية الهرمية تسمح بتقسيم واجهات المستخدم المعقدة إلى أجزاء أبسط وأكثر قابلية للإدارة.

3. **إعادة الاستخدام** (Reusability):
   * يمكن إعادة استخدام المكونات في أجزاء مختلفة من التطبيق، مما يقلل التكرار ويضمن التناسق.

4. **فصل الاهتمامات** (Separation of Concerns):
   * عن طريق عزل الأجزاء المختلفة من واجهة المستخدم في مكونات، تفرض React فصلًا واضحًا للاهتمامات. هذا يجعل من السهل التفكير في وتطوير كل جزء من التطبيق.

#### مثال: بناء واجهة مستخدم باستخدام المكونات

اعتبر واجهة مستخدم تحتوي على مشغل فيديو (video player)، قائمة (menu)، قائمة أسئلة (question list)، وفلاتر (filters). إليك كيف يمكن تقسيمها إلى مكونات:

1. **المكونات العليا**:
   * `VideoPlayer`
   * `Menu`
   * `QuestionsList`
   * `RefineQuestions`

2. **المكونات المتداخلة**:
   * `Filters` (داخل `RefineQuestions`)
   * `Question` (داخل `QuestionsList`)

#### إنشاء المكونات

1. **مكون دالة** (Function Component):

```javascript
function VideoPlayer() {
  return <div>مشغل فيديو</div>;
}
```

2. **مكون فئة** (Class Component):

```javascript
class Menu extends React.Component {
  render() {
    return <div>قائمة</div>;
  }
}
```

#### تمرير البيانات باستخدام Props

الـ Props (اختصار لكلمة properties) تسمح لك بتمرير البيانات من مكون رئيسي (parent component) إلى مكون فرعي (child component).

مثال:

```javascript
function Question(props) {
  return <div>{props.text}</div>;
}

function QuestionsList() {
  return (
    <div>
      <Question text="ما هو React؟" />
      <Question text="لماذا نستخدم React؟" />
      <Question text="كيف تعمل المكونات؟" />
    </div>
  );
}
```

#### شجرة المكونات

شجرة المكونات (component tree) تمثل بصريًا التسلسل الهرمي للمكونات في تطبيقك. إنها تساعدك على فهم العلاقات والتعشيق بين المكونات.

مثال:

```
App
├── VideoPlayer
├── Menu
├── QuestionsList
│   ├── Question
│   ├── Question
│   └── Question
└── RefineQuestions
    └── Filters
```

### وضع المفاهيم في الممارسة

لنقم بإنشاء مثال صغير لوضع هذه المفاهيم في الممارسة.

1. **إعداد المشروع**:
   * اتبع دليل إعداد Vite المذكور سابقًا لإنشاء مشروع React جديد.

2. **تعريف المكونات**:
   * إنشاء `App.js`:

```javascript
import React from 'react';
import VideoPlayer from './VideoPlayer';
import Menu from './Menu';
import QuestionsList from './QuestionsList';
import RefineQuestions from './RefineQuestions';

function App() {
  return (
    <div>
      <Menu />
      <VideoPlayer />
      <QuestionsList />
      <RefineQuestions />
    </div>
  );
}

export default App;
```

   * إنشاء `VideoPlayer.js`:

```javascript
function VideoPlayer() {
  return <div>مشغل فيديو</div>;
}

export default VideoPlayer;
```

   * إنشاء `Menu.js`:

```javascript
function Menu() {
  return <div>قائمة</div>;
}

export default Menu;
```

   * إنشاء `QuestionsList.js`:

```javascript
import React from 'react';
import Question from './Question';

function QuestionsList() {
  return (
    <div>
      <Question text="ما هو React؟" />
      <Question text="لماذا نستخدم React؟" />
      <Question text="كيف تعمل المكونات؟" />
    </div>
  );
}

export default QuestionsList;
```

   * إنشاء `Question.js`:

```javascript
function Question(props) {
  return <div>{props.text}</div>;
}

export default Question;
```

   * إنشاء `RefineQuestions.js`:

```javascript
import React from 'react';
import Filters from './Filters';

function RefineQuestions() {
  return (
    <div>
      <Filters />
    </div>
  );
}

export default RefineQuestions;
```

   * إنشاء `Filters.js`:

```javascript
function Filters() {
  return <div>فلاتر</div>;
}

export default Filters;
```

3. **عرض مكون App**:
   * تعديل `index.js` لعرض مكون `App`:

```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

4. **تشغيل خادم التطوير**:
   * بدء خادم التطوير الخاص بـ Vite:

```sh
npm run dev
```

   * افتح المتصفح الخاص بك وانتقل إلى `http://localhost:5173` لرؤية تطبيق React الخاص بك قيد التشغيل.

### الخلاصة

بفهم وتطبيق مكونات React، يمكنك بناء واجهات مستخدم وحدوية، قابلة لإعادة الاستخدام، وقابلة للصيانة. المكونات تغلف بياناتها الخاصة، منطقها، ومظهرها، مما يجعلها مثالية لإنشاء تطبيقات معقدة. استخدم الـ props لتمرير البيانات بين المكونات واستفد من شجرة المكونات لفهم التسلسل الهرمي والعلاقات داخل تطبيقك. هذا النهج المنظم سيساعدك على تطوير تطبيقات React قوية.