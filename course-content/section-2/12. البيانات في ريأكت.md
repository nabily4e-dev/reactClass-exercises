## Props_ عدم القابلية للتغيير_ وتدفق البيانات في اتجاه واحد

### نظرة عامة على ال Props

**تعريف ال Props:**

* **Props** (اختصار لكلمة properties) هي آلية في React تُستخدم لتمرير البيانات من المكونات الأم إلى المكونات الفرعية. هذا يسمح بتخصيص وتكوين المكونات.

**الاستخدام:**

* ال Props مشابهة لوسائط الدوال في JavaScript. تُستخدم لتمرير أنواع مختلفة من البيانات، بما في ذلك القيم الفردية والمصفوفات والكائنات والدوال وحتى مكونات React الأخرى.

### أساسيات ال Props

1. **آلية الاتصال:**
   * ال Props تمكن من الاتصال بين المكونات الأم والمكونات الفرعية. هذا الاتصال يكون في اتجاه واحد، من الأم إلى الفرع.
2. **التكوين والتخصيص:**
   * ال Props ضرورية لتكوين وتخصيص المكونات، مما يسمح للمكونات الأم بالتحكم في المظهر والسلوك لمكوناتها الفرعية.
3. **تمرير القيم:**
   * يمكن تمرير أي نوع من القيم كـ prop: الأنواع الأولية (مثل السلاسل النصية والأرقام)، الكائنات، المصفوفات، الدوال، ومكونات React.

### نظرة متعمقة على ال Props

**بيانات المكونات:**

* تعتمد مكونات React على البيانات لعرض واجهة المستخدم الخاصة بها. تتكون هذه البيانات من:
  * **ال Props:** البيانات الممررة من المكونات الأم.
  * **State:** البيانات الداخلية التي يتم إدارتها داخل المكون.

**ال Props مقابل ال State:**

* **ال Props:**
  * غير قابلة للتغيير (لا يمكن تغييرها بواسطة المكون الفرعي).
  * تُدار وتُحدث بواسطة المكون الأم.
* **ال State:**
  * قابلة للتغيير (يمكن تغييرها بواسطة المكون نفسه).
  * تُستخدم للبيانات التي تتغير مع مرور الوقت داخل المكون.

### عدم قابلية تغيير ال Props

**لماذا ال Props غير قابلة للتغيير:**

* **الدوال النقية (Pure Functions):** React تشجع استخدام الدوال النقية، التي لا تسبب آثارًا جانبية (أي لا تغير البيانات خارج نطاقها). هذا يضمن التوقعات ويحسن الأداء.
* **الآثار الجانبية (Side Effects):** تعديل ال props قد يؤدي إلى آثار جانبية، مما يسبب أخطاء وعدم اتساق في التطبيق. الحفاظ على ال props غير قابلة للتغيير يمنع ذلك.
* **تغيير الكائنات (Object Mutation):** في JavaScript، الكائنات هي أنواع مرجعية. تغيير كائن منسوخ يؤدي أيضًا إلى تغيير الأصل. لذلك، تغيير ال props مباشرةً يؤدي إلى تغيير بيانات المكون الأم بشكل غير مقصود.

### تدفق البيانات في اتجاه واحد

**المفهوم:**

* **تدفق البيانات في اتجاه واحد (One-Way Data Flow):** تتدفق البيانات في React في اتجاه واحد - من المكونات الأم إلى المكونات الفرعية. هذا على عكس أطر العمل مثل Angular التي تستخدم الربط الثنائي الاتجاه للبيانات.
* **المزايا:**
  * **التوقعية (Predictability):** أسهل في فهم مصدر البيانات، مما يجعل التطبيقات أكثر قابلية للتوقع.
  * **التصحيح (Debugging):** يبسط التصحيح من خلال توفير تحكم واضح في تدفق البيانات.
  * **الأداء (Performance):** تدفق البيانات في اتجاه واحد يكون عمومًا أكثر كفاءة وأداءً.

### التعامل مع البيانات صعودًا

**رفع الحالة (Lifting State Up):**

* على الرغم من أن تدفق البيانات يكون عادةً من المكون الأم إلى المكونات الفرعية (إلى الأبناء)، هناك سيناريوهات حيث تحتاج المكونات الفرعية للتواصل مع المكونات الأم.
* **دوال الاسترجاع (Callback Functions):** لتمرير البيانات صعودًا، يمكن للمكونات الأم تمرير دوال الاسترجاع كـ props إلى المكونات الفرعية. يمكن للمكونات الفرعية بعد ذلك استدعاء هذه الدوال مع البيانات، مما يرسل البيانات فعليًا مرة أخرى إلى الأم.

### مثال توضيحي

لتعزيز الفهم، هنا مثال عن كيفية استخدام ال props في الممارسة:

```jsx
// مكون الأم
function ParentComponent() {
  const handleChildData = (data) => {
    console.log("Data from child:", data);
  };

  return (
    <div>
      <ChildComponent title="Hello, World!" onSendData={handleChildData} />
    </div>
  );
}

// مكون الفرع
function ChildComponent({ title, onSendData }) {
  const sendData = () => {
    onSendData("Some data from child");
  };

  return (
    <div>
      <h1>{title}</h1>
      <button onClick={sendData}>Send Data</button>
    </div>
  );
}
```

في هذا المثال:

* يمرر `ParentComponent` prop `title` و `onSendData` إلى `ChildComponent`.
* يتلقى `ChildComponent` هذه ال props ويستخدمها. عندما يتم النقر على الزر، يستدعي دالة `onSendData`، مرسلاً البيانات مرة أخرى إلى المكون الأم.

### الخلاصة

فهم ال props أساسي لإتقان React. تمكن ال props تخصيص المكونات والتواصل، وتفرض عدم القابلية للتغيير من أجل التوقعية والأداء، وتدعم تدفق البيانات في اتجاه واحد الذي يبسط بنية التطبيق. باستخدام هذه المبادئ، تصبح تطبيقات React أكثر تماسكًا، وقابلية للصيانة، وأسهل في التصحيح.