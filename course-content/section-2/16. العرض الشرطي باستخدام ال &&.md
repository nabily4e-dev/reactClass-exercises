## فهم العرض الشرطي في React باستخدام عامل `&&` (AND)

يُعَد العرض الشرطي (Conditional Rendering) مفهومًا أساسيًا في React يسمح للمطورين بعرض عناصر أو مكونات معينة بناءً على شروط محددة. هذه التقنية ضرورية لإنشاء واجهات مستخدم ديناميكية وتفاعلية. في هذا الشرح، سنتعمق في استخدام عامل `&&` (AND) للعرض الشرطي، لفهم آلياته واستكشاف حالات الاستخدام الشائعة والأمثلة.

### 1. ما هو العرض الشرطي؟

العرض الشرطي في React يتضمن عرض جزء من واجهة المستخدم فقط إذا تم استيفاء شرط معين. يمكن تحقيق ذلك باستخدام طرق مختلفة، بما في ذلك عامل `&&`، عامل الشرط الثلاثي (ternary operator)، وعبارات `if`. سيتم التركيز هنا على عامل `&&` بسبب بساطته وفعاليته في بعض السيناريوهات.

### 2. عامل `&&` في JavaScript

عامل `&&`، المعروف بعامل AND المنطقي، يقيم تعبيرين ويعيد true فقط إذا كان كلا التعبيرين صحيحين. إذا كان التعبير الأول false، فلن يتم تقييم التعبير الثاني (التقييم القصير "short-circuiting"). يمكن استغلال هذه الخاصية في React لعرض المكونات أو العناصر بشكل شرطي.

### 3. التقييم القصير

التقييم القصير هو مفهوم أساسي يجب فهمه عند استخدام عامل `&&` للعرض الشرطي. يعني أن العامل الثاني يتم تقييمه فقط إذا كان العامل الأول صحيحًا. في سياق العرض في React:

- إذا كان الشرط صحيحًا، يتم إعادة التعبير بعد عامل `&&` وعرضه.
- إذا كان الشرط خاطئًا، لن يتم تقييم التعبير بعد عامل `&&` ولن يتم عرض أي شيء.

### 4. مثال عملي

لنستعرض مثالاً عمليًا حيث نعرض رسالة في التذييل (footer) بناءً على ما إذا كان المطعم مفتوحًا.

#### مثال: عرض رسالة إذا كان المطعم مفتوحًا

```jsx
const Footer = () => {
  const currentHour = new Date().getHours();
  const isOpen = currentHour >= 12 && currentHour <= 22;

  return (
    <footer>
      {isOpen && (
        <div className="order">
          <p>We're open until 22:00. Come visit us or order online!</p>
          <button className="btn order">Order Now</button>
        </div>
      )}
    </footer>
  );
};
```

في هذا المثال:

- `currentHour` تستخرج الساعة الحالية من اليوم.
- `isOpen` هي قيمة منطقية (boolean) تكون صحيحة إذا كانت الساعة الحالية بين 12 و22.
- الرسالة والزر داخل `<div>` يتم عرضهما فقط إذا كانت `isOpen` صحيحة.

### 5. التعامل مع القيم الزائفة

جانب مهم من استخدام عامل `&&` هو التعامل مع القيم الزائفة (falsy values). في JavaScript، القيم مثل `0`، `null`، `undefined`، `false`، `NaN`، و`""` (سلسلة فارغة) تعتبر زائفة.

#### مثال: التحقق من طول المصفوفة

لنأخذ مثالاً تريد فيه عرض قائمة البيتزا فقط إذا كانت هناك بيتزا متاحة:

```jsx
const PizzaList = ({ pizzas }) => {
  return (
    <div>
      {pizzas.length > 0 && (
        <ul>
          {pizzas.map((pizza, index) => (
            <li key={index}>{pizza}</li>
          ))}
        </ul>
      )}
    </div>
  );
};
```

هنا، `pizzas.length > 0` يضمن أن القائمة تُعرض فقط إذا كان هناك بيتزا في المصفوفة. إذا كانت `pizzas` مصفوفة فارغة، يكون الشرط خاطئًا ولا يتم عرض أي شيء.

### 6. تجنب الأخطاء الشائعة

خطأ شائع هو عرض القيم مثل `0` أو المصفوفات الفارغة بطريق الخطأ. سيقوم React بعرض هذه القيم مباشرةً إذا لم يتم التعامل معها بشكل صحيح.

#### مثال: منع عرض `0`

```jsx
const PizzaList = ({ pizzas }) => {
  const numPizzas = pizzas.length;

  return (
    <div>
      {numPizzas > 0 && (
        <ul>
          {pizzas.map((pizza, index) => (
            <li key={index}>{pizza}</li>
          ))}
        </ul>
      )}
    </div>
  );
};
```

في هذا المثال، نضمن أن العدد الإيجابي فقط من البيتزا سيؤدي إلى عرض القائمة. هذا يتجنب المشكلات التي قد تؤدي إلى عرض `0` في DOM.

### 7. الخلاصة

يُعد عامل `&&` أداة قوية للعرض الشرطي في React، حيث يقدم طريقة مختصرة لعرض المكونات بناءً على الشروط. ومع ذلك، من الضروري فهم آلياته والتعامل مع الحالات الحافة مثل القيم الزائفة بشكل صحيح. في حين أن عامل `&&` مفيد، من المفيد أيضًا استكشاف طرق أخرى مثل عامل الشرط الثلاثي للعرض الشرطي الأكثر تعقيدًا.

### مصادر إضافية

لتعزيز فهمك للعرض الشرطي في React، يمكنك استكشاف المصادر التالية:

- [التوثيق الرسمي لـ React حول العرض الشرطي](https://reactjs.org/docs/conditional-rendering.html)
- [عوامل التشغيل المنطقية في JavaScript](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_AND)
- [أنماط React للعرض الشرطي](https://reactpatterns.com/#conditional-rendering)

هذه المصادر ستوفر تفسيرات وأمثلة وممارسات أفضل لفهم العرض الشرطي في React.